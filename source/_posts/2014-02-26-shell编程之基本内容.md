---
layout:	post
title:	shell编程之基本内容
categories:
- TECHNOLOGY
tags:
- Shell
permalink:  Summary-basicConcept-Shell
comments:	true
---
在windows里面进行任务处理通常是用批处理,但是其功能是单薄的.而且一般公司服务器都是用的linux系统,批处理是没有用武之地的,关键时候还是shell给力.其实说白了,shell编程就是linux命令的组合.
<!-- more -->



## 变量
* 定义，赋值：

	```bash
	var=value
	```
* 引用

	```bash
	$var,${var}
	```
* 特殊变量
	* `$?`	上条命令状态
	* `$*`/`$@`	所有参数列表
	* `$#`	参数个数
	* `$0`	执行的命令名称
	* `$1`/`${10}`	第1/10个参数

## 数值运算
* 基本用法

	```bash
	expr value1 op value2	# eg. expr $var1 + $var2
	$[ value1 op value2 ]	# eg. $[var1+var2]
	```
* 变量递更

	```bash
	let var++	# 自增1
	let var+=2	# 自增2
	```
* 随机数生成

	```bash
	echo $RANDOM	# $RANDOM生成随机数
	```
* 生成数字序列

	```bash
	# 显示first，first+1，...，end
	seq first end
	# 显示first，first+step，...
	seq first step end
	```
* 小数计算（bc命令）

	```bash
	# 将运算的字符串传递给bc命令去处理
	echo “45.6×33.2” | bc
	```


## 字符串操作
* 子串截取

	```bash
	# 提取$path里面的目录路径/文件名
	dirname/basename $path
	# 截取$string字串，从first（起始为1）开始，长度为length
	expr substr $string first
	# 截取$string子串，从first（起始为0）开始，长度为length
	${string:first:length}
	# 从左开始匹配patten，从string删除最短的patten
	${string#patten}
	# 从右开始匹配patten，从string删除最短的patten
	${string%patten}
	```
* 字符串替换

	```bash
	# 将string中第一个old替换为new
	${string/old/new}
	# 将string中所有old替换为new
	${string//old/new}
	```
* 生成随机字符串

	```bash
	# 生成长度为8的随机字符串
	head -1 /dev/urandom | md5sum | cut -c1-8
	```
