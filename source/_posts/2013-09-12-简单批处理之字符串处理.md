---
layout:	post
title:	简单批处理之字符串处理
categories:
- TECHNOLOGY
tags:
- Batch
permalink:  Summary-string-Batch
comments:	true
---
本文主要介绍批处理中字符串的处理.
<!-- more -->


## 截取字符串
实现截取字符串中的特定位置的一个或多个字符  

* Usage:

	```batch
	echo %var:begin,lenth%
	```
* Sample:

	```batch
	rem 截取前5个字符：
	echo %var:~0,5%

	rem 截取最后5个字符:
	echo %var:~-5%
	```

## 替换字符串
将某一字符串中的特定字符或字符串替换为给定的字符串  

* Usage:

	```batch
	set "var=%var:replaced=new%"
	```
* Sample:

	```batch
	echo test=1232
	set "test=%test:2=k%"
	rem 结果test=1k3k
	```

## 字符串合并
将两个字符串放在一起  

* Sample:

	```batch
	echo %var1%%var2%
	```


## 扩充字符串
对表示文件路径的字符串进行特殊的处理
> `~I`    删除任何引号（")，扩充 %I  
> `%~fI`    将 %I 扩充到一个完全合格的路径名  
> `%~dI`    仅将 %I 扩充到一个驱动器号  
> `%~pI`     仅将 %I 扩充到一个路径  
> `%~nI`     仅将 %I 扩充到一个文件名  
> `%~xI`     仅将 %I 扩充到一个文件扩展名  
> `%~sI`     扩充的路径只含有短名  
> `%~aI`     将 %I 扩充到文件的文件属性  
> `%~tI`     将 %I 扩充到文件的日期/时间  
> `%~zI`     将 %I 扩充到文件的大小  
> `%~$PATH:I`      查找列在路径环境变量的目录，并将 %I 扩充  


## 附:数值计算

* Usage：

	```batch
	set /a expression
	```
* Sample:

	```batch
	set /a var=123+0123+0x123
	```
